{%extends 'layout/base.html'%}

{%block title%}Đổi mật khẩu{%endblock%}

{%block content%}
<h2 class="text-info text-center mt-3">
    Trang đổi mật khẩu
</h2>
<div class="border border-secondary border-1 m-3" style="border-radius: 20px">
    <div class="p-5">
        {%if err_msg%}
        <div class="alert alert-danger mt-3">
            {{err_msg}}
        </div>
        {%endif%}
        <form method="post">
            <div class="form-floating mb-3 mt-3">
                <input type="password" class="form-control" id="old_password" placeholder="Nhập mật khẩu cũ"
                       name="old_password"
                       required oninput="this.value = this.value.replace(/\s/g, '')">
                <label for="old_password">Nhập mật khẩu cũ</label>
                <span class="position-absolute top-50 end-0 translate-middle-y me-3" id="toggleFloating2"
                      style="cursor: pointer; z-index: 10;">
                    <i class="bi bi-eye-slash" id="floatingIcon2"></i>
                </span>
            </div>
            <div class="form-floating mt-3 mb-3">
                <input type="password" class="form-control" id="new_password" placeholder="Nhập mật khẩu mới"
                       name="new_password"
                       required oninput="this.value = this.value.replace(/\s/g, '')">
                <label for="new_password">Nhập mật khẩu mới</label>
                <span class="position-absolute top-50 end-0 translate-middle-y me-3" id="toggleFloating1"
                      style="cursor: pointer; z-index: 10;">
                    <i class="bi bi-eye-slash" id="floatingIcon1"></i>
                </span>
            </div>
            <div class="form-floating mt-3 mb-3">
                <input type="password" class="form-control" id="re_enter_password" placeholder="Nhập lại mật khẩu"
                       name="re_enter_password"
                       required
                       oninput="this.value = this.value.replace(/\s/g, '')">
                <label for="re_enter_password">Nhập lại mật khẩu</label>
                <span class="position-absolute top-50 end-0 translate-middle-y me-3" id="toggleFloating"
                      style="cursor: pointer; z-index: 10;">
                    <i class="bi bi-eye-slash" id="floatingIcon"></i>
                </span>
            </div>
            <div class="form-floating mt-3 mb-3">
                <button class="btn btn-primary">Đổi mật khẩu</button>
            </div>
        </form>
    </div>
</div>
<script>
    document.addEventListener("DOMContentLoaded", function() {
        setupPasswordToggle("toggleFloating2", "old_password", "floatingIcon2");
        setupPasswordToggle("toggleFloating", "new_password", "floatingIcon");
        setupPasswordToggle("toggleFloating1", "re_enter_password", "floatingIcon1");
    });
</script>
{%endblock%}
